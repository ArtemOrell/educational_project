Описание к финальному заданию учебного курса от Digitalaize.\
https://to.digital/course01oneliners.  

**Рабоче-Крестьянский Стандарт Отправки Команд (РКСОК) 1.0**\
Написанный на языке python3 асинхронный сервер.\
Используется версия:\
Python3 == 3.9.7\
Сервер принимает запрос от клиентов на сохранение, удаление или возврат данных пользователя\
(имени и телефона(ов)). Получив запрос от клиента, сервер отправляет запрос на\
rksok_server.py vragi-vezde.to.digital 51624 - это сервер проверки и, получив положительный ответ,\
сохраняет, удаляет или возвращает данные.\
Если ответ от сервера проверки отрицательный, уведомляет клиента, что операция запрещена\
и пересылает ответ от сервера проверки клиенту.\
В этой реализации контакты пишутся просто в файл.


**Примеры запросов к серверу РКСОК**:

1. Запись:\
'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный\r\n02 — рабочий\r\n\r\n\'
2. Удаление:\
'УДОЛИ Иван Хмурый РКСОК/1.0\\r\n\r\n'
3. Возврат:\
'ОТДОВАЙ Иван Хмурый РКСОК/1.0\\r\n\r\n'

**Пример запроса к vragi-vezde.to.digital**:\
К любому из трех, приведенных выше запросов, добавляется:\
'АМОЖНА?'
1. 'АМОЖНА? РКСОК/1.0\r\nЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный\r\n02 — рабочий\r\n\r\n'

**Примеры ответа серверу РКСОК от vragi-vezde.to.digital**:
1. Положительный:\
'МОЖНА РКСОК/1.0\r\n\r\n'
2. Отрицательный:\
'НИЛЬЗЯ РКСОК/1.0\r\n<здесь ответ сервера проверки>\r\n\r\n'

**Примеры ответа сервера РКСОК клиенту**:
1. Если передан запрос:\
'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный\r\n02 — рабочий\r\n\r\n'\
и ответ от сервера проверки положительный, то вернется:\
'НОРМАЛДЫКС РКСОК/1.0\r\n\r\n'\
- Если ответ от севера проверки отрицательный, то вернется:\
'НИЛЬЗЯ РКСОК/1.0\r\n<здесь ответ сервера проверки>\r\n\r\n'
2. Если передан запрос:\
'УДОЛИ Иван Хмурый РКСОК/1.0\r\n\r\n'\
и ответ от сервера проверки положительный, а так же этот контакт найден, то вернется:\
'НОРМАЛДЫКС РКСОК/1.0\r\n\r\n'\
и контакт будет удален.
- Если ответ от севера проверки положительный, но контакт не найден, то вернется:\
'НИНАШОЛ РКСОК/1.0\r\n\r\n'
- Если ответ от севера проверки отрицательный, то вернется:\
'НИЛЬЗЯ РКСОК/1.0\r\n<здесь ответ сервера проверки>\r\n\r\n'\
не зависимо, сохранен контакт или нет и контакт удален не будет, если найден .
3. Если передан запрос:\
'ОТДОВАЙ Иван Хмурый РКСОК/1.0\r\n\r\n'\
и ответ от сервера проверки положительный, а так же этот контакт найден, то вернется:\
'НОРМАЛДЫКС РКСОК/1.0\r\<номер телефона>\r\n\r\n'
- Если ответ от севера проверки положительный, но контакт не найден, то вернется:\
'НИНАШОЛ РКСОК/1.0\r\n\r\n'
- Если ответ от севера проверки отрицательный, то вернется:\
'НИЛЬЗЯ РКСОК/1.0\r\n<здесь ответ сервера проверки>\r\n\r\n'\
не зависимо, сохранен контакт или нет.

**Примечание**:\
Для всех сценариев запросов к серверу РКСОК справедливы следующие ограничения:
- Окончанием клиентского запроса считается пустая строка (символы \r\n, символ \r означает «возврат каретки», символ \n перевод на новую строку)
- Длина имени в запросе ограничевается 30 символами. Можно использовать любые символы,
а так же цифры и кириллицу. 
- Колличество номеров телефонов не регламентировано. Номер телефона может состоять не только из цифр:)
- Запрос не может быть пустой строкой, не может быть последовательностью пробелов.
- Имя в запросе не может быть пустой строкой, не может быть последовательностью пробелов.
- Номер(а) телефона(ов) в запросе не может быть пустой строкой, не может быть последовательностью пробелов.
- Тело запроса не может содержать управляющие символы, как -то: \r, \n.
- ОС Debian 10.
- *Не соответствие шаблону запроса приводит к тому, что РКСОК не отправляет этот запрос на проверку,
а возвращает клиенту ответ вида:\
'НИПОНЯЛ РКСОК/1.0\r\n\r\n'*

***

**Примеры запросов**
1. Корректный:
- 'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный\r\n02 — рабочий\r\n\r\n'
- 'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\ndfhlkdhfkldhfkljd124545\r\n\r\n'
- 'УДОЛИ Иван Хмурый РКСОК/1.0\r\n\r\n'
- 'ОТДОВАЙ Иван Хмурый РКСОК/1.0\r\n\r\n'
2. НекорректныйЖ
- 'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный\r\n02 — рабочий\r\\r\n'
- 'ЗОПИШИ Иван Хмурый РКСОК/1.0\r\n89012345678 — мобильный02 — рабочий\r\n\r\n'
- 'УДОЛИ Иван Хмурый \r\n\r\n'
- 'ОТДОВАЙ Иван Хмурый РКСОК/1.0' и.т.п

***

**Для запуска**:\
Проверьте системную версию python3.
Установите 3.9.7, если необходимо.
- Клонируйте репозиторий и в корневом катологе создайте виртуальное окружение:\
python3.9 -m venv <your_env_name> 
- Устаноаите зависимости:\
pip install -r requirements.txt
- Запустите сервер командой:
python rksok_server.py vragi-vezde.to.digital 51624\
Где vragi-vezde.to.digital 51624 - домен и порт сервера проверки.

